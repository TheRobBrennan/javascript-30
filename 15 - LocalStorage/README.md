# LocalStorage and Event Delegation

An example tapas list that uses `localStorage` and events for adding and marking data.

`populateList` will automatically store the results of the HTML generated by mapping over each item into the `innerHTML` of the `platesList`. We are using `.join()` on the end of our mapping function so that our array becomes one big string. This is exactly what we need for HTML.

How did we use taco images for the checkbox? Take a look at this CSS:

```css
.plates label {
  flex: 1;
  cursor: pointer;
}

.plates input {
  display: none;
}

.plates input + label:before {
  content: "‚¨úÔ∏è";
  margin-right: 10px;
}

.plates input:checked + label:before {
  content: "üåÆ";
}
```

We are using event delegation in our `toggleDone` method. Here we are listening to a click on a parent element (the `plates` unordered list) and determining how we want to handle the clicks for its children:

```js
function toggleDone(e) {
  if (!e.target.matches("input")) return // skip this unless it's an input
  const el = e.target
  const index = el.dataset.index

  // Set our done value to be the opposite of what it is currently
  items[index].done = !items[index].done
  localStorage.setItem("items", JSON.stringify(items))
  populateList(items, itemsList)
}
```
